<button onclick="manualRefresh()" style="
                    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
                    color: white;
                    border: none;
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    font-size: 0.9rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: transform 0.2s;
                " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    üîÑ Uppdatera nu
                </button>        // Automatisk datah√§mtning fr√•n FPL API
        let fplData = {
            lastUpdated: 'Laddar...',
            currentGameweek: 0,
            players: [],
            isLoading: true
        };

        // Team ID:er f√∂r alla spelare i ligan
        const TEAM_IDS = {
            1102453: 'Fredrik Lillb√§ck',
            159609: 'Anton Str√∂m', 
            2571381: 'Sebastian Bonasoni',
            5475077: 'Oscar Jonsson',
            2373878: 'August B√•ng',
            4000088: 'Samuel Rosqvist',
            240747: 'Jakob Hammarstr√∂m',
            4915802: 'Emil J√∂nsson',
            1703536: 'Elias H√•kansson'
        };

        // H√§mta aktuell data fr√•n FPL API via CORS-proxy
        async function fetchFPLData() {
            try {
                console.log('H√§mtar FPL data...');
                
                // CORS-proxy f√∂r att komma runt FPL:s blockeringar
                const PROXY = 'https://api.allorigins.win/get?url=';
                
                // H√§mta grundl√§ggande info f√∂r att f√• aktuell gameweek
                const bootstrapUrl = encodeURIComponent('https://fantasy.premierleague.com/api/bootstrap-static/');
                const bootstrapResponse = await fetch(`${PROXY}${bootstrapUrl}`);
                const bootstrapText = await bootstrapResponse.json();
                const bootstrap = JSON.parse(bootstrapText.contents);
                const currentGW = bootstrap.events.find(event => event.is_current)?.id || 5;
                
                const players = [];
                
                // H√§mta data f√∂r varje spelare individuellt (snabbare √§n liga-API)
                for (const [teamId, playerName] of Object.entries(TEAM_IDS)) {
                    try {
                        // H√§mta spelares grunddata
                        const playerUrl = encodeURIComponent(`https://fantasy.premierleague.com/api/entry/${teamId}/`);
                        const playerResponse = await fetch(`${PROXY}${playerUrl}`);
                        const playerText = await playerResponse.json();
                        const playerData = JSON.parse(playerText.contents);
                        
                        // H√§mta gameweek-historik
                        const historyUrl = encodeURIComponent(`https://fantasy.premierleague.com/api/entry/${teamId}/history/`);
                        const historyResponse = await fetch(`${PROXY}${historyUrl}`);
                        const historyText = await historyResponse.json();
                        const historyData = JSON.parse(historyText.contents);
                        
                        players.push({
                            name: playerName,
                            totalPoints: playerData.summary_overall_points,
                            teamName: playerData.name,
                            rank: 0, // Ber√§knas efter alla h√§mtats
                            teamId: teamId,
                            history: historyData.current || []
                        });
                        
                        console.log(`‚úÖ Data h√§mtat f√∂r ${playerName}: ${playerData.summary_overall_points} po√§ng`);
                        
                    } catch (error) {
                        console.error(`‚ùå Fel vid h√§mtning av data f√∂r ${playerName}:`, error);
                        // L√§gg till fallback-data med senaste k√§nda po√§ng
                        const fallbackScores = {
                            'Fredrik Lillb√§ck': 241,
                            'Anton Str√∂m': 238, 
                            'Sebastian Bonasoni': 232,
                            'Oscar Jonsson': 223,
                            'August B√•ng': 220,
                            'Samuel Rosqvist': 209,
                            'Jakob Hammarstr√∂m': 207,
                            'Emil J√∂nsson': 201,
                            'Elias H√•kansson': 200
                        };
                        
                        players.push({
                            name: playerName,
                            totalPoints: fallbackScores[playerName] || 0,
                            teamName: TEAM_IDS[teamId],
                            rank: 0,
                            teamId: teamId,
                            history: []
                        });
                    }
                    
                    // Liten paus mellan API-anrop f√∂r att vara sn√§ll mot servern
                    await new Promise(resolve => setTimeout(resolve, 500));
                }
                
                // Sortera spelare efter po√§ng och tilldela rank
                players.sort((a, b) => b.totalPoints - a.totalPoints);
                players.forEach((player, index) => {
                    player.rank = index + 1;
                });
                
                fplData = {
                    lastUpdated: new Date().toLocaleString('sv-SE'),
                    currentGameweek: currentGW,
                    players: players,
                    isLoading: false
                };
                
                console.log('‚úÖ FPL data komplett h√§mtat:', fplData);
                return fplData;
                
            } catch (error) {
                console.error('‚ùå Fel vid h√§mtning av FPL data:', error);
                
                // Fallback till senaste k√§nda data
                fplData = {
                    lastUpdated: 'Fallback data (senaste k√§nda)',
                    currentGameweek: 5,
                    players: [
                        { name: 'Fredrik Lillb√§ck', totalPoints: 241, teamName: 'Lil B United', rank: 1, history: [] },
                        { name: 'Anton Str√∂m', totalPoints: 238, teamName: 'Arnes Army', rank: 2, history: [] },
                        { name: 'Sebastian Bonasoni', totalPoints: 232, teamName: 'Mudryks monsters', rank: 3, history: [] },
                        { name: 'Oscar Jonsson', totalPoints: 223, teamName: 'FC B√§rsalona', rank: 4, history: [] },
                        { name: 'August B√•ng', totalPoints: 220, teamName: 'Club de national', rank: 5, history: [] },
                        { name: 'Samuel Rosqvist', totalPoints: 209, teamName: 'Samlag1', rank: 6, history: [] },
                        { name: 'Jakob Hammarstr√∂m', totalPoints: 207, teamName: 'Hammarstr√∂m FC', rank: 7, history: [] },
                        { name: 'Emil J√∂nsson', totalPoints: 201, teamName: 'McJ√∂nnister', rank: 8, history: [] },
                        { name: 'Elias H√•kansson', totalPoints: 200, teamName: 'Hawkansun', rank: 9, history: [] }
                    ],
                    isLoading: false
                };
                
                return fplData;
            }
        }
